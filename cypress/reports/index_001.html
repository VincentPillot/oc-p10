<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:6,&quot;tests&quot;:20,&quot;passes&quot;:16,&quot;pending&quot;:0,&quot;failures&quot;:4,&quot;testsRegistered&quot;:20,&quot;passPercent&quot;:80,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false,&quot;start&quot;:&quot;2025-03-30T10:36:57.318Z&quot;,&quot;end&quot;:&quot;2025-03-30T10:37:38.220Z&quot;,&quot;duration&quot;:40902},&quot;results&quot;:[{&quot;uuid&quot;:&quot;e012827f-d840-4465-9947-0090b23e63e3&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\login.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\login.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;26acfed3-741b-4fb2-944d-4ecdc90220d1&quot;,&quot;title&quot;:&quot;Test de Connexion&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\login.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\login.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Doit permettre à l user de se connecter avec succès et d avoir le panier de disponible&quot;,&quot;fullTitle&quot;:&quot;Test de Connexion Doit permettre à l user de se connecter avec succès et d avoir le panier de disponible&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:1406,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.login(true);\n// On verifie la présence du panier\ncy.getDataCy(\&quot;nav-link-cart\&quot;).should(&#x27;exist&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45262e2b-8640-471a-bbfb-b6d9ea3d2cb3&quot;,&quot;parentUUID&quot;:&quot;26acfed3-741b-4fb2-944d-4ecdc90220d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;45262e2b-8640-471a-bbfb-b6d9ea3d2cb3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1406,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c0a6e2f7-87d4-4ed1-92a6-896b498f28ae&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\API_tests\\TestApi.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\API_tests\\TestApi.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6f8b6ee8-9cf3-4a8a-8a96-4a8016ce34a4&quot;,&quot;title&quot;:&quot;Tests d&#x27;API&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\API_tests\\TestApi.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\API_tests\\TestApi.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;devrait retourner une erreur 401 pour un utilisateur inconnu&quot;,&quot;fullTitle&quot;:&quot;Tests d&#x27;API devrait retourner une erreur 401 pour un utilisateur inconnu&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:92,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.loginApi(false).then(response =&gt; {\n  expect(response.status).to.eq(401);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82f89be2-587f-4e44-8225-2266a63806a2&quot;,&quot;parentUUID&quot;:&quot;6f8b6ee8-9cf3-4a8a-8a96-4a8016ce34a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;devrait se connecter avec succès pour un utilisateur connu&quot;,&quot;fullTitle&quot;:&quot;Tests d&#x27;API devrait se connecter avec succès pour un utilisateur connu&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:357,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.loginApi(true).then(response =&gt; {\n  expect(response.status).to.eq(200);\n  authToken = window.localStorage.getItem(\&quot;authToken\&quot;);\n  Cypress.env(&#x27;authToken&#x27;, authToken);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6331d87-32d0-4859-91ed-5ab1506761c4&quot;,&quot;parentUUID&quot;:&quot;6f8b6ee8-9cf3-4a8a-8a96-4a8016ce34a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;devrait retourner une erreur 401 pour une requête non authentifiée&quot;,&quot;fullTitle&quot;:&quot;Tests d&#x27;API devrait retourner une erreur 401 pour une requête non authentifiée&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:73,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;GET&#x27;,\n  url: `${apiUrl}/orders`,\n  failOnStatusCode: false\n}).then(response =&gt; {\n  expect(response.status).to.eq(401);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b91507f-a6aa-4e0f-92b3-d38ac84e6722&quot;,&quot;parentUUID&quot;:&quot;6f8b6ee8-9cf3-4a8a-8a96-4a8016ce34a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;devrait retourner la fiche d&#x27;un produit spécifique&quot;,&quot;fullTitle&quot;:&quot;Tests d&#x27;API devrait retourner la fiche d&#x27;un produit spécifique&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:75,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;GET&#x27;,\n  url: `${apiUrl}/products/${productId}`,\n  headers: {\n    Authorization: `Bearer ${Cypress.env(&#x27;authToken&#x27;)}`\n  }\n}).then(response =&gt; {\n  expect(response.status).to.eq(200);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06789785-de1f-4d80-a268-264563a19b7c&quot;,&quot;parentUUID&quot;:&quot;6f8b6ee8-9cf3-4a8a-8a96-4a8016ce34a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;devrait retourner la liste des produits dans le panier&quot;,&quot;fullTitle&quot;:&quot;Tests d&#x27;API devrait retourner la liste des produits dans le panier&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:85,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;GET&#x27;,\n  url: `${apiUrl}/orders`,\n  headers: {\n    Authorization: `Bearer ${Cypress.env(&#x27;authToken&#x27;)}`\n  }\n}).then(response =&gt; {\n  expect(response.status).to.eq(200);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb17c220-e36b-4d22-9b59-1389cee63857&quot;,&quot;parentUUID&quot;:&quot;6f8b6ee8-9cf3-4a8a-8a96-4a8016ce34a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;devrait ajouter un produit disponible au panier&quot;,&quot;fullTitle&quot;:&quot;Tests d&#x27;API devrait ajouter un produit disponible au panier&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:127,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;PUT&#x27;,\n  url: `${apiUrl}/orders/add`,\n  headers: {\n    Authorization: `Bearer ${Cypress.env(&#x27;authToken&#x27;)}`\n  },\n  body: {\n    product: 5,\n    quantity: 3\n  }\n}).then(response =&gt; {\n  expect(response.status).to.eq(200);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd693025-5954-4535-a1b3-6319822af963&quot;,&quot;parentUUID&quot;:&quot;6f8b6ee8-9cf3-4a8a-8a96-4a8016ce34a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;devrait renvoyer une erreur si le stock demandé est supérieur au stock disponible&quot;,&quot;fullTitle&quot;:&quot;Tests d&#x27;API devrait renvoyer une erreur si le stock demandé est supérieur au stock disponible&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:189,&quot;state&quot;:&quot;failed&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;PUT&#x27;,\n  url: `${apiUrl}/orders/add`,\n  headers: {\n    Authorization: `Bearer ${Cypress.env(&#x27;authToken&#x27;)}`\n  },\n  failOnStatusCode: false,\n  body: {\n    product: 5,\n    quantity: 359854\n  }\n}).then(response =&gt; {\n  expect(response.status).to.eq(400);\n});&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected 200 to equal 400&quot;,&quot;estack&quot;:&quot;AssertionError: expected 200 to equal 400\n    at Context.eval (webpack://testeurlogiciel_automatisez_des_tests_pour_une_boutique_en_ligne-main/./cypress/e2e/API_tests/TestApi.cy.js:74:33)\n    at getRet (http://localhost:56020/__cypress/runner/cypress_runner.js:119371:20)\n    at tryCatcher (http://localhost:56020/__cypress/runner/cypress_runner.js:1777:23)\n    at Promise.attempt.Promise.try (http://localhost:56020/__cypress/runner/cypress_runner.js:4285:29)\n    at Context.thenFn (http://localhost:56020/__cypress/runner/cypress_runner.js:119382:66)\n    at Context.then (http://localhost:56020/__cypress/runner/cypress_runner.js:119633:21)&quot;,&quot;diff&quot;:&quot;- 200\n+ 400\n&quot;},&quot;uuid&quot;:&quot;f655cb3e-bb8f-4a9a-b1d8-58178307ded0&quot;,&quot;parentUUID&quot;:&quot;6f8b6ee8-9cf3-4a8a-8a96-4a8016ce34a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;devrait renvoyer une erreur si le produit es en rupture de stock&quot;,&quot;fullTitle&quot;:&quot;Tests d&#x27;API devrait renvoyer une erreur si le produit es en rupture de stock&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:227,&quot;state&quot;:&quot;failed&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;PUT&#x27;,\n  url: `${apiUrl}/orders/add`,\n  headers: {\n    Authorization: `Bearer ${Cypress.env(&#x27;authToken&#x27;)}`\n  },\n  failOnStatusCode: false,\n  body: {\n    product: 3,\n    quantity: 2\n  }\n}).then(response =&gt; {\n  expect(response.status).to.eq(400);\n});&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected 200 to equal 400&quot;,&quot;estack&quot;:&quot;AssertionError: expected 200 to equal 400\n    at Context.eval (webpack://testeurlogiciel_automatisez_des_tests_pour_une_boutique_en_ligne-main/./cypress/e2e/API_tests/TestApi.cy.js:86:33)\n    at getRet (http://localhost:56020/__cypress/runner/cypress_runner.js:119371:20)\n    at tryCatcher (http://localhost:56020/__cypress/runner/cypress_runner.js:1777:23)\n    at Promise.attempt.Promise.try (http://localhost:56020/__cypress/runner/cypress_runner.js:4285:29)\n    at Context.thenFn (http://localhost:56020/__cypress/runner/cypress_runner.js:119382:66)\n    at Context.then (http://localhost:56020/__cypress/runner/cypress_runner.js:119633:21)&quot;,&quot;diff&quot;:&quot;- 200\n+ 400\n&quot;},&quot;uuid&quot;:&quot;456e44c7-ae81-4d56-9c52-2098ce42cab8&quot;,&quot;parentUUID&quot;:&quot;6f8b6ee8-9cf3-4a8a-8a96-4a8016ce34a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;devrait renvoyer une erreur si l&#x27;id du produit n&#x27;est pas le bon&quot;,&quot;fullTitle&quot;:&quot;Tests d&#x27;API devrait renvoyer une erreur si l&#x27;id du produit n&#x27;est pas le bon&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:126,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.request({\n  method: &#x27;PUT&#x27;,\n  url: `${apiUrl}/orders/add`,\n  headers: {\n    Authorization: `Bearer ${Cypress.env(&#x27;authToken&#x27;)}`\n  },\n  body: {\n    product: 55555555,\n    quantity: 2\n  },\n  failOnStatusCode: false\n}).then(response =&gt; {\n  expect(response.status).to.eq(400);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e108458-a835-4f03-8be8-978c2d0535cf&quot;,&quot;parentUUID&quot;:&quot;6f8b6ee8-9cf3-4a8a-8a96-4a8016ce34a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;devrait ajouter un avis valide&quot;,&quot;fullTitle&quot;:&quot;Tests d&#x27;API devrait ajouter un avis valide&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:116,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.fixture(&#x27;comments&#x27;).then(comments =&gt; {\n  const validComment = comments.validComment;\n  cy.request({\n    method: &#x27;POST&#x27;,\n    url: `${apiUrl}/reviews`,\n    headers: {\n      Authorization: `Bearer ${Cypress.env(&#x27;authToken&#x27;)}`\n    },\n    body: validComment\n  }).then(response =&gt; {\n    expect(response.status).to.eq(200);\n  });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10abe33f-54b5-4889-b24c-f94917ec8651&quot;,&quot;parentUUID&quot;:&quot;6f8b6ee8-9cf3-4a8a-8a96-4a8016ce34a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;devrait renvoyer le commentaire formater&quot;,&quot;fullTitle&quot;:&quot;Tests d&#x27;API devrait renvoyer le commentaire formater&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:207,&quot;state&quot;:&quot;failed&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.fixture(&#x27;comments&#x27;).then(comments =&gt; {\n  const xssComment = comments.xssComment;\n  cy.request({\n    method: &#x27;POST&#x27;,\n    url: `${apiUrl}/reviews`,\n    headers: {\n      Authorization: `Bearer ${Cypress.env(&#x27;authToken&#x27;)}`\n    },\n    body: xssComment\n  }).then(response =&gt; {\n    expect(response.status).to.eq(200);\n    cy.log(JSON.stringify(response.body));\n    console.log(\&quot;body : \&quot; + response.body);\n    expect(response.body.title).to.not.eq(xssComment.title);\n    expect(response.body.comment).to.not.eq(xssComment.comment);\n  });\n});&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected &#x27;&lt;script&gt;alert(\\&#x27;test titre XSS !\\&#x27;);&lt;/script&gt;&#x27; to not equal &#x27;&lt;script&gt;alert(\\&#x27;test titre XSS !\\&#x27;);&lt;/script&gt;&#x27;&quot;,&quot;estack&quot;:&quot;AssertionError: expected &#x27;&lt;script&gt;alert(\\&#x27;test titre XSS !\\&#x27;);&lt;/script&gt;&#x27; to not equal &#x27;&lt;script&gt;alert(\\&#x27;test titre XSS !\\&#x27;);&lt;/script&gt;&#x27;\n    at Context.eval (webpack://testeurlogiciel_automatisez_des_tests_pour_une_boutique_en_ligne-main/./cypress/e2e/API_tests/TestApi.cy.js:131:43)\n    at getRet (http://localhost:56020/__cypress/runner/cypress_runner.js:119371:20)\n    at tryCatcher (http://localhost:56020/__cypress/runner/cypress_runner.js:1777:23)\n    at Promise.attempt.Promise.try (http://localhost:56020/__cypress/runner/cypress_runner.js:4285:29)\n    at Context.thenFn (http://localhost:56020/__cypress/runner/cypress_runner.js:119382:66)\n    at Context.then (http://localhost:56020/__cypress/runner/cypress_runner.js:119633:21)&quot;,&quot;diff&quot;:&quot;&quot;},&quot;uuid&quot;:&quot;3cb6cf60-599d-40b9-9690-798547e886cf&quot;,&quot;parentUUID&quot;:&quot;6f8b6ee8-9cf3-4a8a-8a96-4a8016ce34a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;82f89be2-587f-4e44-8225-2266a63806a2&quot;,&quot;e6331d87-32d0-4859-91ed-5ab1506761c4&quot;,&quot;9b91507f-a6aa-4e0f-92b3-d38ac84e6722&quot;,&quot;06789785-de1f-4d80-a268-264563a19b7c&quot;,&quot;cb17c220-e36b-4d22-9b59-1389cee63857&quot;,&quot;fd693025-5954-4535-a1b3-6319822af963&quot;,&quot;2e108458-a835-4f03-8be8-978c2d0535cf&quot;,&quot;10abe33f-54b5-4889-b24c-f94917ec8651&quot;],&quot;failures&quot;:[&quot;f655cb3e-bb8f-4a9a-b1d8-58178307ded0&quot;,&quot;456e44c7-ae81-4d56-9c52-2098ce42cab8&quot;,&quot;3cb6cf60-599d-40b9-9690-798547e886cf&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1674,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6beb7da4-836a-4f3e-9797-75c3412b7335&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\smoke__tests\\addProductBtnDisplayed.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\smoke__tests\\addProductBtnDisplayed.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3c30ad0b-ace7-4497-8b33-2d7fba03df65&quot;,&quot;title&quot;:&quot;Verifie que le bouton d&#x27;ajout au panier sur un produit es bien afficher lorsque que l&#x27;user es connecter&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\smoke__tests\\addProductBtnDisplayed.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\smoke__tests\\addProductBtnDisplayed.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;verification de la presence des champs dans le formulaire de login&quot;,&quot;fullTitle&quot;:&quot;Verifie que le bouton d&#x27;ajout au panier sur un produit es bien afficher lorsque que l&#x27;user es connecter verification de la presence des champs dans le formulaire de login&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:2054,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.visit(Cypress.env(&#x27;baseUrl&#x27;));\ncy.getDataCy(\&quot;nav-link-login\&quot;).click();\n//On recuperer les inputs et on remplis les champs\ncy.getDataCy(\&quot;login-input-username\&quot;).type(&#x27;test2@test.fr&#x27;);\ncy.getDataCy(\&quot;login-input-password\&quot;).type(&#x27;testtest&#x27;);\n//On se connecte\ncy.getDataCy(\&quot;login-submit\&quot;).click();\n//On se rend sur la page du premier produit de la homepage\ncy.getDataCy(\&quot;product-home-link\&quot;).first().click();\n//On verifie que le bouton \&quot;Ajouter au panier\&quot; existe\ncy.getDataCy(\&quot;detail-product-add\&quot;).should(&#x27;exist&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d322765f-65cb-47d5-b3f9-fe4c6a20c6c4&quot;,&quot;parentUUID&quot;:&quot;3c30ad0b-ace7-4497-8b33-2d7fba03df65&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d322765f-65cb-47d5-b3f9-fe4c6a20c6c4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2054,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6aa0f2d7-21ad-465b-a6f7-786ad1f0fda2&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\smoke__tests\\loginUIVerifications.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\smoke__tests\\loginUIVerifications.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;35d12685-3602-483c-9028-3396a21a0889&quot;,&quot;title&quot;:&quot;test presence champs &amp; boutons de connexion&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\smoke__tests\\loginUIVerifications.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\smoke__tests\\loginUIVerifications.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;check si le bouton de connexion es présent&quot;,&quot;fullTitle&quot;:&quot;test presence champs &amp; boutons de connexion check si le bouton de connexion es présent&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:243,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.getDataCy(\&quot;nav-link-login\&quot;).should(&#x27;exist&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;740be385-356b-4144-a05d-c636ad253f60&quot;,&quot;parentUUID&quot;:&quot;35d12685-3602-483c-9028-3396a21a0889&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;verification de la presence des champs dans le formulaire de login&quot;,&quot;fullTitle&quot;:&quot;test presence champs &amp; boutons de connexion verification de la presence des champs dans le formulaire de login&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:171,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.getDataCy(\&quot;nav-link-login\&quot;).click(); //On se rend sur la page de login\n//On recuperer les inputs\ncy.getDataCy(\&quot;login-input-username\&quot;).should(&#x27;exist&#x27;);\ncy.getDataCy(\&quot;login-input-password\&quot;).should(&#x27;exist&#x27;);\ncy.getDataCy(\&quot;login-submit\&quot;).should(&#x27;exist&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5db10725-7cf4-4ef4-9924-41d9e22767e1&quot;,&quot;parentUUID&quot;:&quot;35d12685-3602-483c-9028-3396a21a0889&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;740be385-356b-4144-a05d-c636ad253f60&quot;,&quot;5db10725-7cf4-4ef4-9924-41d9e22767e1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:414,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7baa0a9a-54ca-492f-b53f-d3279a58a786&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\smoke__tests\\productStockFieldCheck.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\smoke__tests\\productStockFieldCheck.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a66e1772-98b5-4a99-ae98-8dda9695be0b&quot;,&quot;title&quot;:&quot;test si le champ de disponibilité d&#x27;un produit es present&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\smoke__tests\\productStockFieldCheck.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\smoke__tests\\productStockFieldCheck.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Recuperer le champ de disponiblité d&#x27;un produit&quot;,&quot;fullTitle&quot;:&quot;test si le champ de disponibilité d&#x27;un produit es present Recuperer le champ de disponiblité d&#x27;un produit&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:385,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.getDataCy(\&quot;product-home-link\&quot;).first().click(); //On se rend sur la page du premier produit de la homepage\ncy.getDataCy(\&quot;detail-product-stock\&quot;).should(&#x27;exist&#x27;).invoke(&#x27;text&#x27;).should(&#x27;not.be.empty&#x27;); //On verifie que le champ existe et qu&#x27;il contient bien du texte&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad1b76c3-4cd5-4100-9514-8d3e6eb929cc&quot;,&quot;parentUUID&quot;:&quot;a66e1772-98b5-4a99-ae98-8dda9695be0b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ad1b76c3-4cd5-4100-9514-8d3e6eb929cc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:385,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e87be68d-0011-4339-96bf-4fa75cc4624f&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\cart.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\cart.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f0b56982-46d7-4fe6-81a8-7b3bf807603d&quot;,&quot;title&quot;:&quot;Test du Panier&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\cart.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\cart.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Ajoute un produit au panier avec un stock valide et mettre à jour ce dernier&quot;,&quot;fullTitle&quot;:&quot;Test du Panier Ajoute un produit au panier avec un stock valide et mettre à jour ce dernier&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:5314,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.getDataCy(\&quot;product-home-link\&quot;).first().click(); //On se rend sur la page du premier produit de la homepage\ncy.wait(2000); //On wait pour être sûr que toute la page se charge\ncy.getDataCy(\&quot;detail-product-name\&quot;).invoke(\&quot;text\&quot;).then(productName =&gt; {\n  cy.url().then(productUrl =&gt; {\n    cy.getDataCy(&#x27;detail-product-stock&#x27;).invoke(\&quot;text\&quot;).then(text =&gt; {\n      const stockText = text.trim();\n      const stockNumber = parseInt(stockText.match(/\\d+/)[0]);\n      expect(stockNumber).to.be.greaterThan(0); //On récupére le nombre du stock et on vérifie que ce soit &gt; a 0\n      cy.getDataCy(\&quot;detail-product-add\&quot;).click(); //On ajoute le produit au panier\n      //On retourne sur la page du produit, et on actualise la page pour vérifier que le stock s&#x27;est bien update\n      cy.visit(productUrl);\n      cy.reload();\n      const newStock = stockNumber - 1;\n      cy.log(`Stock précédent : ${stockNumber}`);\n      cy.log(`Stock mis à jour : ${newStock} `);\n      cy.getDataCy(\&quot;detail-product-stock\&quot;).invoke(\&quot;text\&quot;).should(\&quot;match\&quot;, new RegExp(`^${newStock} en stock$`));\n    });\n    cy.visit(Cypress.env(&#x27;baseUrl&#x27;) + \&quot;/#/cart\&quot;); //On retourne au panier\n    cy.getDataCy(\&quot;cart-line-name\&quot;).invoke(\&quot;text\&quot;).should(\&quot;match\&quot;, new RegExp(`^${productName}`)); //On vérifie que le produit ajouté es bien présent et que ce soit le bon\n    cy.getDataCy(&#x27;cart-line-delete&#x27;).click({\n      multiple: true\n    }); //On supprime le produit avec multiple dans le cas ou plusieurs produits aurais été ajouter par erreur\n  });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8673bbf6-5135-4404-b932-f2ba9d32c9a0&quot;,&quot;parentUUID&quot;:&quot;f0b56982-46d7-4fe6-81a8-7b3bf807603d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Vérifie qu&#x27;une valeur de quantité négative n&#x27;ajoute pas le produit au panier&quot;,&quot;fullTitle&quot;:&quot;Test du Panier Vérifie qu&#x27;une valeur de quantité négative n&#x27;ajoute pas le produit au panier&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:3622,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.getDataCy(\&quot;product-home-link\&quot;).first().click();\ncy.wait(2000);\ncy.getDataCy(\&quot;detail-product-quantity\&quot;).clear().type(-5); //On ajoute notre valeur negative \ncy.getDataCy(\&quot;detail-product-add\&quot;).click();\ncy.getDataCy(\&quot;detail-product-form\&quot;).should(\&quot;have.class\&quot;, \&quot;ng-invalid\&quot;); //On verfie que le detail product form contient bien le ng-invalid qui doit empecher le clic sur &#x27;ajouter au panier&#x27;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20dfa759-9765-40c5-9b7b-6febda482b93&quot;,&quot;parentUUID&quot;:&quot;f0b56982-46d7-4fe6-81a8-7b3bf807603d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Vérifie qu&#x27;une valeur de quantité supérieur à 20 n&#x27;ajoute pas le produit au panier&quot;,&quot;fullTitle&quot;:&quot;Test du Panier Vérifie qu&#x27;une valeur de quantité supérieur à 20 n&#x27;ajoute pas le produit au panier&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:7679,&quot;state&quot;:&quot;failed&quot;,&quot;speed&quot;:null,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;cy.getDataCy(\&quot;product-home-link\&quot;).first().click();\ncy.wait(2000);\ncy.getDataCy(\&quot;detail-product-quantity\&quot;).clear().type(22); //On ajoute notre valeur superieur a 20 \ncy.getDataCy(\&quot;detail-product-form\&quot;).should(\&quot;have.class\&quot;, \&quot;ng-invalid\&quot;); //On verfie que le detail product form contient bien le ng-invalid qui doit empecher le clic sur &#x27;ajouter au panier&#x27;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: Timed out retrying after 4000ms: expected &#x27;&lt;div#product-cart.ng-untouched.ng-dirty.ng-valid&gt;&#x27; to have class &#x27;ng-invalid&#x27;&quot;,&quot;estack&quot;:&quot;AssertionError: Timed out retrying after 4000ms: expected &#x27;&lt;div#product-cart.ng-untouched.ng-dirty.ng-valid&gt;&#x27; to have class &#x27;ng-invalid&#x27;\n    at Context.eval (webpack://testeurlogiciel_automatisez_des_tests_pour_une_boutique_en_ligne-main/./cypress/e2e/cart.cy.js:62:40)&quot;,&quot;diff&quot;:null},&quot;uuid&quot;:&quot;3c7f4091-b519-4c42-a1c1-bdfbdd50a574&quot;,&quot;parentUUID&quot;:&quot;f0b56982-46d7-4fe6-81a8-7b3bf807603d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Doit ajouter un produit au panier et verifier que ce soit bien retourner par l&#x27;API&quot;,&quot;fullTitle&quot;:&quot;Test du Panier Doit ajouter un produit au panier et verifier que ce soit bien retourner par l&#x27;API&quot;,&quot;timedOut&quot;:null,&quot;duration&quot;:4498,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:null,&quot;code&quot;:&quot;let productId;\ncy.getDataCy(\&quot;product-home-link\&quot;).first().click();\ncy.url().then(productUrl =&gt; {\n  const urlSegments = productUrl.split(\&quot;/\&quot;); //On split chaque segment de l&#x27;url\n  productId = parseInt(urlSegments[urlSegments.length - 1]); //On recupere l&#x27;id produit présent dans le dernier segment\n  cy.log(`ID du produit : ${productId}`);\n  cy.wait(2000);\n  cy.getDataCy(\&quot;detail-product-add\&quot;).click();\n  cy.getToken().then(token =&gt; {\n    cy.request({\n      method: \&quot;GET\&quot;,\n      url: apiUrl + \&quot;/orders\&quot;,\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response =&gt; {\n      cy.log(`Réponse de l&#x27;API : ${response.body.orderLines[0].product.id}`);\n      const productIdApi = response.body.orderLines[0].product.id;\n      expect(productIdApi).to.equal(productId);\n    });\n    cy.visit(Cypress.env(&#x27;baseUrl&#x27;) + \&quot;/#/cart\&quot;); //On retourne au panier\n    cy.getDataCy(&#x27;cart-line-delete&#x27;).click({\n      multiple: true\n    });\n  });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e07da09-a8f3-4815-8636-114614ccba08&quot;,&quot;parentUUID&quot;:&quot;f0b56982-46d7-4fe6-81a8-7b3bf807603d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8673bbf6-5135-4404-b932-f2ba9d32c9a0&quot;,&quot;20dfa759-9765-40c5-9b7b-6febda482b93&quot;,&quot;7e07da09-a8f3-4815-8636-114614ccba08&quot;],&quot;failures&quot;:[&quot;3c7f4091-b519-4c42-a1c1-bdfbdd50a574&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:21113,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.0.1&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:false,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;cypress\\reports\\.jsons&quot;,&quot;overwrite&quot;:false,&quot;html&quot;:false,&quot;json&quot;:true},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index.html&quot;,&quot;reportDir&quot;:&quot;C:\\Users\\eihks\\Desktop\\Formation\\P10\\TesteurLogiciel_Automatisez_des_tests_pour_une_boutique_en_ligne-main\\cypress\\reports&quot;,&quot;reportTitle&quot;:&quot;TesteurLogiciel_Automatisez_des_tests_pour_une_boutique_en_ligne-main&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:false,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:false,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;C:\\Users\\eihks\\Desktop\\Formation\\P10\\TesteurLogiciel_Automatisez_des_tests_pour_une_boutique_en_ligne-main\\cypress\\reports\\assets&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\eihks\\Desktop\\Formation\\P10\\TesteurLogiciel_Automatisez_des_tests_pour_une_boutique_en_ligne-main\\cypress\\reports\\index.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>